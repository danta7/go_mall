## 开发计划总览

- **周期**: 3–4 周（每天 1–2 小时，或以人天计 12–16 人天）
- **交付物**: 可运行的后端 API（用户/商品/订单/秒杀）、可观测性、压测报告、容器化与一键环境
- **成功标准（DoD）**:
    - 主链路端到端打通，E2E 测试通过
    - 核心接口 P95 小于 200ms（本地/单机）、错误率小于 1%
    - 秒杀压测 10k 请求内无超卖/重复下单，消费无明显积压
    - 代码质量：lint 通过、关键路径具备单元与集成测试覆盖

## 里程碑与日程（建议）

- 里程碑 0（0.5 天）：工程初始化、环境一键化
- 里程碑 1（1 天）：骨架与基础设施（配置/日志/错误处理/健康检查）
- 里程碑 2（2 天）：用户与认证（JWT、Refresh、RBAC）
- 里程碑 3（2 天）：商品与库存（迁移、CRUD、缓存）
- 里程碑 4（3 天）：秒杀活动（预减、限流、幂等）与消息队列（生产/消费）
- 里程碑 5（2 天）：订单事务与支付模拟、延时取消
- 里程碑 6（1 天）：可观测性（指标、追踪、pprof）
- 里程碑 7（1 天）：压测与优化
- 里程碑 8（1 天）：容器化与交付（Compose/K8s 可选）


## 里程碑 1：基础骨架（1 天）

- **任务**
  - [x] 配置加载与校验（环境变量优先）
  - [x] 结构化日志（zap/zerolog）、全局错误恢复、统一响应格式
  - [x] 路由与 `GET /healthz`，请求 ID/Trace ID、CORS、超时中间件
- **验收**
  - [x] 非法配置启动失败并给出清晰报错
  - [x] 健康检查返回依赖基本探活信息
- **风险**
  - 统一错误码与响应体尽早定稿，避免后期大改